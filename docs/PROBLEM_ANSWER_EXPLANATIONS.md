# 出題問題・正解・誤答の解説一覧

各カテゴリで出題される問題、正解の導出、誤答の典型パターンと解説をまとめています。

---

## 1. 断面の性質（section-properties）

### 1.1 長方形断面（Z または I）

| 項目 | 内容 |
|------|------|
| **問い** | 断面係数 Z [mm³] または 断面二次モーメント I [mm⁴] を求めよ |
| **寸法** | SECTION_PAIRS から (b, h) を選択。Z = bh²/6、I = bh³/12 が整数になる組のみ |
| **正解（Z）** | Z = b×h²/6 |
| **正解（I）** | I = b×h³/12 |

**正解の解説（Z）**
- 長方形断面の断面係数は Z = b×h²/6 で求めます。
- Z = I/(h/2) = 2I/h の関係から導かれます。

**正解の解説（I）**
- 長方形断面の断面二次モーメントは I = b×h³/12 で求めます。
- 中立軸（図心を通過する水平軸）まわりの積分から導出されます。

**誤答の典型と理由**

| 誤答の出し方 | 典型的な間違い |
|--------------|----------------|
| h×b²/6 | b と h を入れ替えた（中立軸取り違え） |
| bh²/12 | 分母を 12 に誤った（I の式と混同） |
| h×b²/12 | b・h 入れ替え＋分母誤り |
| exact×2, exact/2 | 係数や位置の取り違え |
| bh³/6 | I の分母を 6 に誤った |
| h×b³/12 | b と h を入れ替えた |

---

### 1.2 中空長方形（ロの字断面）（Z または I）

| 項目 | 内容 |
|------|------|
| **問い** | 断面係数 Z [mm³] または 断面二次モーメント I [mm⁴] を求めよ |
| **寸法** | 外寸 B×H、内寸 b×h。I, Z が整数になる組み合わせのみ |
| **正解（I）** | I = (B×H³ − b×h³) / 12 |
| **正解（Z）** | Z = 2×I / H |

**正解の解説**
- 中空断面は外側の長方形から内側の長方形を引いた形状。
- I = (B×H³ − b×h³) / 12 で求め、Z = I/(H/2) = 2I/H。

**誤答の典型と理由**

| 誤答の出し方 | 典型的な間違い |
|--------------|----------------|
| (B×H² − b×h²)/6 | 中空なのに長方形の Z 式と混同、または h³→h² の混同 |
| I/H | Z = 2I/H の 2 を忘れた |
| Z×2, Z/2 | 係数・位置の取り違え |
| (BH³ − bh²)/12 | 内側で h³ ではなく h² を使ってしまう |
| **(BH³ − Bh³)/12** | **中空部の幅を内幅 b ではなく外幅 B のままにしてしまうケアレスミス（図形の捉え方）** |

---

### 1.3 H形断面（Z または I）

| 項目 | 内容 |
|------|------|
| **問い** | 断面係数 Z [mm³] または 断面二次モーメント I [mm⁴] を求めよ |
| **寸法** | H_SHAPE_QUADS（b, h, tf, tw）。I と Z がともに整数になる組のみ（28組） |
| **正解（I）** | I = (b×h³ − (b−tw)×(h−2×tf)³) / 12 |
| **正解（Z）** | Z = 2×I / h |

**正解の解説**
- H形は外枠の長方形からウェブ部分（幅 b−tw、高さ h−2tf）を引いた断面として扱う。
- hw = h − 2×tf とすると、I = (b×h³ − (b−tw)×hw³) / 12。
- Z = I/(h/2) = 2I/h。

**誤答の典型と理由**

| 誤答の出し方 | 典型的な間違い |
|--------------|----------------|
| (bh² − (b−tw)×hw²)/6 | 長方形の Z 式を流用、hw³→hw² の混同 |
| I/h | Z = 2I/h の 2 を忘れた |
| Z×2, Z/2 | 係数の取り違え |
| Z±100, Z±200 | 計算ミスやオーダー取り違え（整数のみ） |
| (bh³ − (b−tw)×hw²)/12 | hw³ を hw² に誤る |
| (bh³ − inner)/6 | 分母 12 を 6 に誤る |

---

### 1.4 L形断面の図心 x_g

| 項目 | 内容 |
|------|------|
| **問い** | 図心の x 座標 x_g [mm] を求めよ |
| **寸法** | L_SHAPE_CENTROID_TRIPLES: (80,120,50), (100,100,60), (60,180,40), (120,80,50) |
| **正解** | x_g = (A1×x1 + A2×x2) / (A1 + A2)  ただし A1=b1×h, x1=b1/2, A2=b2×h, x2=b1+b2/2 |

**正解の解説**
- L形を横並び2つの長方形に分ける。左: A1=b1×h, 図心 x1=b1/2。右: A2=b2×h, 図心 x2=b1+b2/2。
- 全体の図心 x_g = (A1×x1 + A2×x2) / (A1 + A2)。

**誤答の典型**
- b1, b2, b1+b2, (b1+b2)/2, x1, x2, x_g×1.5, x_g/2 など、部分の寸法や図心をそのまま選んでしまう。

---

### 1.5 L形断面・図心軸まわりの I（発展A: 平行軸の定理）

| 項目 | 内容 |
|------|------|
| **問い** | 図心（x_g）を通る鉛直軸まわりの断面二次モーメント I [mm⁴] を求めよ |
| **寸法** | L_SHAPE_I_CENTROID_TRIPLES: (100,100,60), (60,180,40) のいずれか（I が整数になる組のみ） |
| **正解** | I = I1 + I2。I1 = I_g1 + A1×d1², I2 = I_g2 + A2×d2²。**鉛直軸**まわりなので各矩形の I_g = h×b³/12（水平軸まわりなら b×h³/12）。d は図心 x_g から各部分の図心までの距離。 |

**正解の解説**
- 平行軸の定理: 任意の軸まわりの I は、その部分の図心軸まわりの I_g と、I_g + A×d² で与えられる。
- 図心を通る**鉛直軸**まわりの I では、各矩形の自軸（鉛直）まわり I_g は I_g = h×b³/12（軸に平行な辺が h、垂直な辺が b）。
- L形を 2 つの長方形に分け、I_g と図心からの距離 d を求め、I1 + I2 で合成する。

**誤答の典型と理由**

| 誤答の出し方 | 典型的な間違い |
|--------------|----------------|
| I_g1 + I_g2 | 平行軸の定理の A×d² の項を忘れた |
| I1 のみ or I2 のみ | 一方の矩形の寄与だけを答えた |
| (b1×h³ + b2×h³)/12 | 図心軸の移動を無視して単純合算 |
| I_total/2, I_total×2 | 係数・取り違え |

---

## 2. 静定ラーメン（frame）

### 2.1 梁中央集中荷重 P

| 項目 | 内容 |
|------|------|
| **問い** | 左柱頭の曲げモーメント M [kN·m] を求めよ |
| **条件** | 3ヒンジ門形ラーメン、梁中央に集中荷重 P、スパン L、軒高 h |
| **正解** | M = P×L / 4 |

**正解の解説**
- 対称より鉛直反力 V_A = V_B = P/2。
- 左柱脚まわりのモーメントつり合い: H×h = (P/2)×(L/2) → H = P×L/(4h)。
- 左柱頭: M = H×h = P×L/4。

**誤答の典型と理由**

| 誤答の式 |  typical な間違い |
|----------|-------------------|
| P×L/2 | 反力 P/2 までは出せたが、それに全スパン L を掛けてしまった（P/2×L）。または全荷重 P にスパン半分 L/2 を掛けてしまった（P×L/2）。単純梁の PL/4 との混同ではなく、モーメントの「どれにどれを掛けるか」の取り違え。 |
| P×h/2 | 水平反力の式を誤用 |
| P×L | 反力を忘れて全荷重で計算 |
| P×h | 反力・モーメントの取り違え |
| P×L/8 | 等分布の式と混同 |
| answer±6, ±10, ±12 | 計算ミス、オフセット |

---

### 2.2 梁上等分布荷重 w

| 項目 | 内容 |
|------|------|
| **問い** | 左柱頭の曲げモーメント M [kN·m] を求めよ |
| **条件** | 3ヒンジ門形ラーメン、梁上に等分布荷重 w、スパン L、軒高 h |
| **正解** | M = w×L² / 8 |

**正解の解説**
- 対称より鉛直反力 V_A = V_B = w×L/2。
- 左柱脚まわり: H×h = w×L²/8 → 左柱頭 M = H×h = w×L²/8。

**誤答の典型と理由**

| 誤答の式 |  typical な間違い |
|----------|-------------------|
| w×L²/4 | 単純梁中央 M と混同 |
| w×L²/2 | 片持ち先端 M と混同 |
| w×L² | 全荷重で計算 |
| w×L×h/4 | 別のモーメント式と混同（整数のときのみ候補） |
| answer±6, ±8, ±10, ±12 | 計算ミス、オフセット |

---

### 2.3 左柱に水平荷重 P（発展C）

| 項目 | 内容 |
|------|------|
| **問い** | 左柱頭に水平荷重 P が作用するとき、左柱頭の曲げモーメント M [kN·m] を求めよ |
| **条件** | 3ヒンジ門形ラーメン、左柱上端（柱頭）に水平集中荷重 P（風圧・地震想定） |
| **正解** | M = (P×h)/2 |

**正解の解説**
- 柱頭に水平荷重 P が作用すると、全体のモーメントの釣り合いから、左右の支点に鉛直反力（上向き・下向き）が発生する。鉛直反力は 0 ではない。
- 中央ヒンジ回りのモーメントつり合いから、水平反力は左右で**半分ずつ**負担する（H_A = H_B = P/2）ことが導かれる。
- 左柱頭の曲げモーメントは、左柱脚の水平反力 H_A = P/2 が柱頭までの距離 h に作用するため M = H_A×h = (P/2)×h = P×h/2。
- ※ M = P×h になるのは「右支点がローラーで水平力ゼロ」の片持ち柱状態のみ。3ヒンジでは M = P×h/2 である。

**誤答の典型と理由**

| 誤答の式 | 典型的な間違い |
|----------|----------------|
| **P×h** | 片持ち柱・ローラー右支点と混同（最高の罠） |
| P | 荷重 P をそのまま選ぶ |
| P×L/4 | 鉛直荷重の梁中央 M と混同 |
| P×L | スパン L を使った混同 |
| P+h | 積と和の混同 |

---

## 3. トラス（truss-zero / truss-calculation）

### 3.1 山形トラス（底辺の軸力）

| 項目 | 内容 |
|------|------|
| **問い** | 底辺（水平部材）の軸力 N_A [kN] を求めよ。引張を正、圧縮を負 |
| **条件** | 山形トラス、斜材45°、頂点に荷重 P。P∈{20,24,30,40}, L∈{3,4,5} |
| **正解** | N_A = +P/2（引張） |

**正解の解説**
- 左右の支点反力はそれぞれ P/2。
- 底辺の軸力は、節点の水平力のつり合いから求める。斜材の傾きが 45°（縦1：横1）なので、鉛直成分と水平成分の力は同じ大きさになる。したがって斜材が 45° のとき、底辺の軸力 N = (P/2)×cot(45°) = P/2。引張なので正。

**誤答の典型**

| 誤答 |  typical な間違い |
|------|-------------------|
| 0 | ゼロメンバーと混同 |
| −P/2 | 符号（引張/圧縮）の取り違え |
| P, −P | 反力と混同 |
| P/4, −P/4 | 係数の取り違え |
| 3P/4 | 斜材の軸力と混同 |

---

### 3.2 ゼロメンバー

| 項目 | 内容 |
|------|------|
| **問い** | L字節点に接続する部材Aの軸力 N_A [kN] を求めよ |
| **条件** | 荷重のない節点に3本の部材が接続し、2本が同一直線上。残り1本が問いの部材 |
| **正解** | N_A = 0（ゼロメンバー） |

**正解の解説**
- ゼロメンバーの定理: 荷重のない節点に3本の部材が接続し、2本が同一直線上にあるとき、残り1本の軸力は 0。
- 図のL字節点では、部材Aは同一直線上にない方なので N_A = 0。

**誤答の典型**
- P/2, −P/2, P, −P, P/4, −P/4 → 山形トラスの底辺などと混同。

---

### 3.3 片持ちトラス（上弦A または 下弦B）

| 項目 | 内容 |
|------|------|
| **問い** | 部材A（上弦）または部材B（下弦）の軸力 [kN] を求めよ |
| **条件** | 2スパン片持ちトラス、高さL、先端にP。第1パネルで切断 |
| **正解（A）** | N_A = +P（引張） |
| **正解（B）** | N_B = −2P（圧縮） |

**正解の解説**
- 第1パネルで切断し、切断面以右の自由体を考える。
- **上弦A**: モーメント中心を中央下節点に取る。荷重までの距離 L → M = P×L → N_A = M/h = P×L/L = P。引張。
- **下弦B**: モーメント中心を左上支点に取る。荷重までの距離 2L → M = P×2L → N_B = M/h = 2P。圧縮なので −2P。

**誤答の典型**
- 0, P/2, −P/2, P, −P, 2P, −2P, P/4, −P/4 のうち正解以外。

---

### 3.4 プラットトラス（部材A/B/C/D）

| 項目 | 内容 |
|------|------|
| **問い** | 部材A（左斜材）/ B（上弦）/ C（下弦左）/ D（中央垂直材）の軸力 [kN] を求めよ |
| **条件** | プラットトラス（静定・2スパン・3:4:5）、下弦中央にP。L=4 または 8 |
| **正解** | A: +5P/6（引張）, B: −2P/3（圧縮）, C: 0, D: 0 |

**正解の解説**
- A: 左支点の鉛直反力 P/2 が左端垂直材を経て左上節点へ。左斜材の鉛直成分と釣り合い N_A×(3/5)=P/2 → N_A=5P/6。
- B: 左上節点の水平つり合いで、上弦は左斜材の水平成分と釣り合う → N_B = −2P/3。
- C: 左下節点は鉛直反力と左端垂直材のみ。下弦左は水平方向のみで N_C = 0。
- D: 中央下節点にP。左右斜材の鉛直成分がPを打ち消すため、中央垂直材は N_D = 0（ゼロメンバー）。

**誤答の典型**
- 0, −answer, P, −P, 5P/6, −5P/6, 2P/3, −2P/3, P/2, −P/2, answer/2, answer×2 など、符号・係数の取り違え。

---

## 4. 座屈（buckling）

### 4.1 座屈長さ l_k [m]

| 項目 | 内容 |
|------|------|
| **問い** | 座屈長さ l_k [m] を求めよ |
| **条件** | 柱の長さ L [m]、支持条件（両端ピン/両端固定/一端固定他端ピン/一端固定他端自由） |
| **正解** | l_k = γ × L。γ は支持条件により: 両端ピン 1.0, 両端固定 0.5, 一端固定他端ピン 0.7, 一端固定他端自由 2.0 |

**正解の解説**
- 座屈長さ l_k = γ×L。支持条件によって係数 γ が決まる。
- 両端ピン: γ=1 → l_k=L。
- 両端固定: γ=0.5 → l_k=0.5L。
- 一端固定・他端ピン: γ=0.7 → l_k=0.7L。
- 一端固定・他端自由: γ=2 → l_k=2L。

**誤答の典型**
- 他支持条件の γ×L（例: 正解が 2L のときに 0.5L, L, 0.7L など）
- 0.5L, 1.0L, 2.0L, L をそのまま選ぶ（支持の取り違え）

---

### 4.2 座屈荷重の比率（両端ピン柱の何倍か）

| 項目 | 内容 |
|------|------|
| **問い** | この柱の座屈荷重は、同じ EI・同じ長さ L の両端ピン柱の何倍か |
| **条件** | 支持条件: 両端ピン / 両端固定 / 一端固定他端自由 |
| **正解** | 1/γ²。両端ピン 1, 両端固定 4, 一端固定他端自由 0.25 |

**正解の解説**
- 弾性座屈荷重 P_k = π²EI / l_k²。同じ EI, L なら P_k ∝ 1/l_k² ∝ 1/γ²。
- 両端ピン: γ=1 → 1/γ²=1（基準）。
- 両端固定: γ=0.5 → 1/γ²=4。
- 一端固定・他端自由: γ=2 → 1/γ²=0.25。

**誤答の典型**

| 誤答 |  typical な間違い |
|------|-------------------|
| 0.25 | 片持ちと他支持を混同、または分母取り違え |
| 0.5 | γ そのまま使う（1/γ² と混同） |
| 1 | 基準値（両端ピン）と混同 |
| 2 | 一端固定・他端ピン（γ=0.7）と混同 |

---

## 5. たわみ・たわみ角（発展B: 倍率問題）

| 項目 | 内容 |
|------|------|
| **問い** | スパン L・曲げ剛性 EI・荷重 P のいずれかを 2 倍にしたとき、たわみ δ は何倍になるか |
| **対象** | 単純梁中央（δ = PL³/(48EI)）または 片持ち梁先端（δ = PL³/(3EI)） |
| **正解** | L を 2 倍 → **8 倍**（δ ∝ L³）。EI を 2 倍 → **0.5 倍**（δ ∝ 1/EI）。P を 2 倍 → **2 倍**（δ ∝ P） |

**正解の解説**
- 単純梁中央: δ = PL³/(48EI)。片持ち先端: δ = PL³/(3EI)。いずれも δ ∝ L³, δ ∝ 1/EI, δ ∝ P。
- したがって L を 2 倍にすると δ は 2³ = 8 倍。EI を 2 倍にすると δ は 1/2 倍。P を 2 倍にすると δ は 2 倍。

**誤答の典型**
- L を 2 倍: 2 倍（L の 1 乗と混同）、4 倍（L² と混同）、16 倍（L⁴ と混同）。
- EI を 2 倍: 1 倍（変化なしと混同）、2 倍（EI に比例と混同）。
- P を 2 倍: 1 倍、4 倍、0.5 倍（逆に混同）。

---

## 6. 梁・曲げ応力度・複合応力度

### 6.1 曲げ応力度 σ = M/Z

梁の問題（M_max, V_A, V_B 等）と断面 b×h から Z = bh²/6 を求め、σ = M_max×10⁶/Z [N/mm²] が整数になる組み合わせのみ出題。誤答は係数取り違え・b と h の入れ替え等。

### 6.2 複合応力度 σ = N/A ± M/Z（発展D）

| 項目 | 内容 |
|------|------|
| **問い** | 軸力 N と曲げモーメント M が同時に作用するとき、引張側縁の σ = N/A + M/Z、または圧縮側縁の σ = N/A − M/Z [N/mm²] を求めよ（圧縮を正・引張を負とする場合あり） |
| **条件** | 単純梁 or 片持ち梁の集中荷重で M_max、断面 b×h、軸力 N。σ_軸 = N/A、σ_曲げ = M/Z が整数になる N,A,M,Z の組み合わせのみ |
| **正解（引張側）** | σ = N/A + M/Z |
| **正解（圧縮側）** | σ = N/A − M/Z |

**正解の解説**
- 偏心荷重やラーメンの柱など、軸力と曲げが同時に働く断面では、縁応力度は σ = σ_軸 ± σ_曲げ。
- 引張側縁: σ = N/A + M/Z。圧縮側縁: σ = N/A − M/Z（圧縮を正とする場合は符号に注意）。

**誤答の典型と理由**

| 誤答の出し方 | 典型的な間違い |
|--------------|----------------|
| M/Z のみ（σ_曲げ） | 軸力項 N/A を忘れた |
| N/A のみ（σ_軸） | 曲げ項 M/Z を忘れた |
| 引張側の σ を圧縮側と取り違え | ± の符号の取り違え |
| σ×2, σ/2 | 係数・式の取り違え |
| −σ_曲げ | 符号の混同 |

中級・上級で「曲げ応力度」カテゴリのうち、中級 35%・上級 50% が複合応力度として出題されます。詳細は `useSectionProblem.ts` の `collectCombinedStressCandidates` および `generateCombinedStressProblem` を参照してください。

### 6.3 その他の梁問題

M_max, V_A, V_B, M(x), Q(x) は条件の組み合わせで多数パターンがあります。正解は割り切れる組み合わせのみ。誤答は係数・符号・類似公式の混同から選出。`useBeamProblem.ts` および `useSectionProblem.ts` の `collectBendingStressCandidates` 等を参照。

---

## 7. 今後の拡張案（Next Step）

現在のシステムは「基礎〜標準」をカバーしています。合否を分ける応用問題として、以下の順序でカテゴリを拡張する案です。

| 案 | 内容 | 目的 |
|----|------|------|
| **発展A** | 図心軸の移動と平行軸の定理（上級・断面の性質） | 図心を通る軸まわりの I に加え、「まず図心を求め、各長方形の I を合成」する T 形など。既存の L 形図心ロジックを流用し「求めた図心まわりの I を求めよ」の 2 ステップ問題。 |
| **発展B** | たわみ・たわみ角（新カテゴリ） | δ = PL³/(48EI) 等の公式は超頻出。EI をそのまま扱うより「スパン L が 2 倍のときたわみは何倍か（8 倍）」など比率・比例関係を問う形にするとドリル向き。 |
| **発展C** | 静定ラーメンの水平荷重（上級・ラーメン） | 柱の横から水平荷重 P（風圧・地震想定）。現在の鉛直対称荷重は単純梁と同じ答えになりやすいが、横荷重で反力・モーメントの算出が本試験の難所。 |
| **発展D** | 複合応力度 | σ = N/A ± M/Z。偏心荷重による圧縮と曲げの複合。既存の軸力・曲げ・断面の性質の集大成。 |
