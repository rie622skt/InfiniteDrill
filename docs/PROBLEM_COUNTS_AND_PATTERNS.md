# 問題数・問題パターン一覧

各カテゴリで「何通りの問題（寸法・問いの組み合わせ）が用意されているか」をまとめたものです。  
**H形断面の修正後**（I と Z がともに整数になる組み合わせのみ使用）の数です。

---

## 断面の性質（section-properties）

| 内訳 | 寸法候補の組み合わせ数 | 問いの種類 | おおよその問題パターン数 |
|------|-------------------------|------------|---------------------------|
| 長方形 | SECTION_PAIRS（b×h の組。Z・I 整数になるもののみ） | Z または I | 組数 × 2 |
| 中空長方形 | HOLLOW_SECTION_QUADS（B×H, b×h。I・Z 整数） | Z または I | 組数 × 2 |
| **H形** | **H_SHAPE_QUADS: 28 組**（I と Z がともに整数になる b,h,tf,tw のみ） | **I または Z** | **28 × 2 = 56 パターン** |
| L形図心 | L_SHAPE_CENTROID_TRIPLES: 4 組（固定） | 図心 x_g | 4 |

上級では中空・H形・L形図心の出題率が上がります。  
**H形は修正により「28 組の寸法 × I or Z の 2 通り = 56 パターン」** になっています。

---

## 静定ラーメン（frame）

| 内訳 | 候補の組み合わせ | おおよその問題パターン数 |
|------|------------------|---------------------------|
| 梁中央集中 P | FRAME_TRIPLES（L, h, P で M = P×L/4 が整数） | 約 36 組（3×3×4 を整数でフィルタ） |
| 梁上等分布 w | FRAME_DISTRIBUTED_TRIPLES（L, h, w で M = w×L²/8 が整数） | 約 54 組（3×3×6 を整数でフィルタ） |

出題時に「集中」か「等分布」を約 50% でランダム選択。  
正解・誤答とも整数のみ（丸めなし）。

---

## トラス（truss-zero / truss-calculation）

| パターン | パラメータ | おおよその問題パターン数 |
|----------|------------|---------------------------|
| 山形 | P ∈ {20,24,30,40}, L ∈ {3,4,5} | 4 × 3 = 12 |
| ゼロメンバー | 同上 | 12 |
| 片持ち | 同上 × 対象部材 A or B | 12 × 2 = 24 |
| プラット | L ∈ {4, 8}, P（L=4 で 3 値, L=8 で 4 値）, 部材 A/B/C/D | 2 × (3+4) × 4 のオーダー |

---

## 座屈（buckling）

| 内訳 | 候補 | 問題パターン数 |
|------|------|----------------|
| 座屈長さ l_k | 支持 4 種 × L ∈ {2,3,4,5} | 4 × 4 = 16 |
| 座屈荷重比率 1/γ² | 支持 3 種（ピン・両端固定・一端固定他端自由）× L | 3 × 4 = 12 |

比率は 0.25（fixed-free）を含むため、小数第2位まで保持して出題。

---

## 梁・曲げ応力度・その他

- 単純梁・片持ち・張り出し：L, P/w, a などの組み合わせと「何を問うか」（M_max, V_A, V_B, M(x), Q(x) 等）で多数パターン。
- 曲げ応力度：断面候補と M の組み合わせで整数になるもののみ。
- 複合応力度：Number.isInteger(σ) を満たす組み合わせのみ。

これらは「きれいに割り切れる」ようにリトライまたはフィルタしており、パターン数は組み合わせで決まります。

---

## まとめ（修正の影響）

- **H形断面**: 寸法を「I と Z がともに整数」に限定したことで **28 組**。  
  各組で「I を問う」か「Z を問う」の 2 通りなので、**56 パターン**。
- 修正前は「I が整数になる全組み合わせ」で Z を四捨五入していたため寸法パターン数は多かったが、**正解が丸めに依存していた**。  
  修正後は 28 組に減った代わりに、**本試験に近い「割り切れる問題」だけ**になっています。
- 28 組・56 パターンは、ドリル用として十分なバリエーションです。
